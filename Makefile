# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
# â”‚                              â”‚              â”‚              â”‚                                  â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸš€         Makefile          ğŸš€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# â”‚                              â”‚              â”‚              â”‚                                  â”‚
# â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
# â–¢-----------------------------------------------------------------------------------------------â–¢
# â–¢		ğŸ“¦kv-store/ 				## â†ª ğŸ¥[project root]
# â–¢		â”œâ”€â”€ ğŸ—‚.make/ 				## â””â”€â”€ ğŸï¸[Submodules Directory]
# â–¢		â””â”€â”€ ğŸ“Makefile				## â”œâ”€â”€ ğŸ¬[Root Makefile]
# â–¢-----------------------------------------------------------------------------------------------â–¢
#			- (USAGE):  (1) â†’ Centralizes all variables used by 'Make Targets'
# 						(2) â†’ See `./make/*` sub-modules for specific functionality
# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ âš™ï¸ ï¸Section 0 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ [Make Settings] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ âš™ï¸ 0.1 â”œâ”€â”€ disable "Entering/Leaving directory" messages from sub-makes
MAKEFLAGS += --no-print-directory

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ âš™ï¸ Section 1 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ [App/Repo Settings] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
APP_NAME ?= kv-store

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ ğŸ“¦ Section 2 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ [Go Settings & Tools] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
## â†’ Go build env
export GO ?= go
export GOPATH ?= $(shell go env GOPATH)
export GOPKGS ?= ./...

## â†’ Go linter
export GOLANGCI_LINT_VERSION ?= v2.4.0

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ ğŸ’» Section 3 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ [OS Specific Tools] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
PKG_CMD ?= brew

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ ğŸŒ Section 4 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ [git] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
GIT_SHORT_SHA ?= $(shell git rev-parse --short=7 HEAD)
GIT_FULL_SHA  ?= $(shell git rev-parse HEAD)
GIT_NUM_COMMITS_IN_MAIN ?= $(shell git rev-list --count main)

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ ğŸ–¨ Section 5 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ ['make print.%' util target] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
# 			(USAGE):	Print the value of any Makefile variable
#			(EXAMPLES):	(1) â†’ make print.APP_NAME
#						(2) â†’ make print.DOCKER_IMAGE
# â–¢-----------------------------------------------------------------------------------------------â–¢
.PHONY: print.%
print.%: ## ğŸ“¢ Print the value of any Makefile variable (e.g., make print.GOPATH)
	@echo $($*)

# â–¢-----------------------------------------------------------------------------------------------â–¢
# â””â”€â”€â”¤ ğŸš€ Section 6 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â†’ [Import Make Submodules] â†
# â–¢-----------------------------------------------------------------------------------------------â–¢
# 			(BEHAVIOR):	import all sub-modules (`*.mk` files) from the folder: `.make/`
# â–¢-----------------------------------------------------------------------------------------------â–¢
include $(wildcard .make/*.mk)
